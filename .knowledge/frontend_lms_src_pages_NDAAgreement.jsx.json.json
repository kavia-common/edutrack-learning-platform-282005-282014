{"is_source_file": true, "format": "JavaScript/JSX", "description": "React component for NDA Agreement page; manages form inputs, signature upload, PDF export, and localStorage persistence.", "external_files": ["../utils/documentsStatus", "../components/ui/Toast", "../utils/inboxUpdate"], "external_methods": ["setDocumentCompleted", "useToast", "upsertInboxPdfForUser"], "published": ["NDAAgreement"], "classes": [], "methods": [{"name": "loadLocal()", "description": "Loads NDA form data from localStorage.", "scope": "", "scopeKind": ""}, {"name": "saveLocal(state)", "description": "Saves NDA form data to localStorage.", "scope": "", "scopeKind": ""}, {"name": "handleFileChange", "description": "Processes signature image file selection, validation, and preview."}, {"name": "handleSave", "description": "Validates form data and saves it to localStorage, then navigates away."}, {"name": "ensurePdfLibs()", "description": "Dynamically imports html2canvas and jsPDF libraries for PDF generation.", "scope": "", "scopeKind": ""}, {"name": "handleExportPdf()", "description": "Generates a PDF of the NDA agreement, potentially with multiple pages, and triggers download.", "scope": "", "scopeKind": ""}, {"name": "SignatureLineOrThumb()", "description": "Renders signature thumbnail if available or a placeholder line.", "scope": "", "scopeKind": ""}], "calls": ["useNavigate", "useToast", "setDocumentCompleted", "loadLocal", "saveLocal", "URL.createObjectURL", "URL.revokeObjectURL", "FileReader.readAsDataURL", "import", "window.html2canvas", "window.jspdf.jsPDF", "window.print", "upsertInboxPdfForUser"], "search-terms": ["NDAAgreement", "signature upload React", "PDF export NDA", "localStorage NDA form", "interactive NDA form", "React useEffect NDA", "Signature image validation React", "react-router-dom NDA page", "signature thumbnail React"], "state": 2, "file_id": 67, "knowledge_revision": 271, "git_revision": "fc96e5f98ad94fdcea96258357d4f29d8004640e", "ctags": [{"_type": "tag", "name": "NDAAgreement", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^const NDAAgreement = ({$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^const STORAGE_KEY = \"nda_agreement_form_v1\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "SignatureLineOrThumb", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  function SignatureLineOrThumb() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "consultantDate", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^                  value={consultantDate}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "consultantDate", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  consultantDate: propDate = \"\",$/", "language": "JavaScript", "kind": "property", "scope": "NDAAgreement", "scopeKind": "class"}, {"_type": "tag", "name": "consultantName", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^                  value={consultantName}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "consultantName", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  consultantName: propName = \"\",$/", "language": "JavaScript", "kind": "property", "scope": "NDAAgreement", "scopeKind": "class"}, {"_type": "tag", "name": "consultantTitle", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^                  value={consultantTitle}$/", "language": "JavaScript", "kind": "field", "scope": "value", "scopeKind": "class"}, {"_type": "tag", "name": "consultantTitle", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  consultantTitle: propTitle = \"\",$/", "language": "JavaScript", "kind": "property", "scope": "NDAAgreement", "scopeKind": "class"}, {"_type": "tag", "name": "dt3Date", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  dt3Date = \"\",$/", "language": "JavaScript", "kind": "property", "scope": "NDAAgreement", "scopeKind": "class"}, {"_type": "tag", "name": "dt3SignerName", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  dt3SignerName = \"Alfred Gracias\",$/", "language": "JavaScript", "kind": "property", "scope": "NDAAgreement", "scopeKind": "class"}, {"_type": "tag", "name": "dt3SignerTitle", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  dt3SignerTitle = \"CEO\",$/", "language": "JavaScript", "kind": "property", "scope": "NDAAgreement", "scopeKind": "class"}, {"_type": "tag", "name": "ensurePdfLibs", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  async function ensurePdfLibs() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "exportRef", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^        ref={exportRef}$/", "language": "JavaScript", "kind": "field", "scope": "ref", "scopeKind": "class"}, {"_type": "tag", "name": "exportRef", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  const exportRef = useRef(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "file", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^    const file = e.target.files?.[0];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleExportPdf", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^              onClick={handleExportPdf}$/", "language": "JavaScript", "kind": "field", "scope": "onClick", "scopeKind": "class"}, {"_type": "tag", "name": "handleExportPdf", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  async function handleExportPdf() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "handleFileChange", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^                    onChange={handleFileChange}$/", "language": "JavaScript", "kind": "field", "scope": "onChange", "scopeKind": "class"}, {"_type": "tag", "name": "handleFileChange", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  const handleFileChange = (e) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleSave", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  const handleSave = (e) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "isValid", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^                title={isValid ? \"Save\" : \"Please fill all required fields and upload signature\"/", "language": "JavaScript", "kind": "field", "scope": "title", "scopeKind": "class"}, {"_type": "tag", "name": "isValid", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^              title={isValid ? \"Export as PDF\" : \"Fill required fields and upload signature to e/", "language": "JavaScript", "kind": "field", "scope": "title", "scopeKind": "class"}, {"_type": "tag", "name": "isValid", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  const isValid = useMemo(() => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "loadLocal", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^function loadLocal() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "missing", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^      const missing = [];$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^      const msg =$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "navigate", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  const navigate = useNavigate();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "objectUrlRef", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^            src={objectUrlRef.current || sigDataUrl}$/", "language": "JavaScript", "kind": "field", "scope": "SignatureLineOrThumb.src", "scopeKind": "class"}, {"_type": "tag", "name": "objectUrlRef", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  const objectUrlRef = useRef(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "reader", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^      const reader = new FileReader();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "saveLocal", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^function saveLocal(state) {$/", "language": "JavaScript", "kind": "function", "signature": "(state)"}, {"_type": "tag", "name": "setConsultantDate", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  const [consultantDate, setConsultantDate] = useState($/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setConsultantName", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  const [consultantName, setConsultantName] = useState(propName);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setConsultantTitle", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  const [consultantTitle, setConsultantTitle] = useState(propTitle);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setError", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  const [error, setError] = useState(\"\");$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setExportError", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  const [exportError, setExportError] = useState(\"\");$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setExporting", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  const [exporting, setExporting] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSaved", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  const [saved, setSaved] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSigDataUrl", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  const [sigDataUrl, setSigDataUrl] = useState(\"\"); \\/\\/ persisted preview\\/data$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setSigFileName", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^  const [sigFileName, setSigFileName] = useState(\"\");$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/pages/NDAAgreement.jsx", "pattern": "/^      const url = URL.createObjectURL(file);$/", "language": "JavaScript", "kind": "constant"}], "hash": "955a4b0b10c27a6c43d74f81c4bfadab", "format-version": 4, "code-base-name": "frontend_lms", "filename": "frontend_lms/src/pages/NDAAgreement.jsx", "fields": [{"name": "value={consultantDate}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "consultantDate: propDate = \"\",", "scope": "NDAAgreement", "scopeKind": "class", "description": "unavailable"}, {"name": "value={consultantName}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "consultantName: propName = \"\",", "scope": "NDAAgreement", "scopeKind": "class", "description": "unavailable"}, {"name": "value={consultantTitle}", "scope": "value", "scopeKind": "class", "description": "unavailable"}, {"name": "consultantTitle: propTitle = \"\",", "scope": "NDAAgreement", "scopeKind": "class", "description": "unavailable"}, {"name": "dt3Date = \"\",", "scope": "NDAAgreement", "scopeKind": "class", "description": "unavailable"}, {"name": "dt3SignerName = \"Alfred Gracias\",", "scope": "NDAAgreement", "scopeKind": "class", "description": "unavailable"}, {"name": "dt3SignerTitle = \"CEO\",", "scope": "NDAAgreement", "scopeKind": "class", "description": "unavailable"}, {"name": "ref={exportRef}", "scope": "ref", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={handleExportPdf}", "scope": "onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "onChange={handleFileChange}", "scope": "onChange", "scopeKind": "class", "description": "unavailable"}, {"name": "title={isValid ? \"Save\" : \"Please fill all required fields and upload signature\"/", "scope": "title", "scopeKind": "class", "description": "unavailable"}, {"name": "title={isValid ? \"Export as PDF\" : \"Fill required fields and upload signature to e/", "scope": "title", "scopeKind": "class", "description": "unavailable"}, {"name": "src={objectUrlRef.current || sigDataUrl}", "scope": "SignatureLineOrThumb.src", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"271": "fc96e5f98ad94fdcea96258357d4f29d8004640e"}]}