{"is_source_file": true, "format": "JavaScript", "description": "This file provides a JavaScript service module for managing admin user data using browser localStorage. It includes functions to seed default data, read, write, list, retrieve, create/update, and delete users, with validation ensuring email uniqueness.", "external_files": ["window.localStorage"], "external_methods": ["window.localStorage.getItem", "window.localStorage.setItem"], "published": ["listUsers", "getUserById", "upsertUser", "deleteUser"], "classes": [], "methods": [{"name": "seedIfEmpty()", "description": "Seeds initial admin user data into localStorage if empty.", "scope": "", "scopeKind": ""}, {"name": "readAll()", "description": "Reads and returns all user data from localStorage, handling errors.", "scope": "", "scopeKind": ""}, {"name": "writeAll(users)", "description": "Writes the provided user array into localStorage.", "scope": "", "scopeKind": ""}, {"name": "listUsers()", "description": "Public method to list all users.", "scope": "", "scopeKind": ""}, {"name": "getUserById(id)", "description": "Public method to retrieve a user by their ID.", "scope": "", "scopeKind": ""}, {"name": "upsertUser(user)", "description": "Creates or updates a user, ensuring email uniqueness.", "scope": "", "scopeKind": ""}, {"name": "deleteUser(id)", "description": "Deletes a user by their ID.", "scope": "", "scopeKind": ""}], "calls": ["seedIfEmpty()", "readAll()", "writeAll()", "window.localStorage.getItem", "window.localStorage.setItem", "JSON.parse", "JSON.stringify", "Array.prototype.find", "Array.prototype.findIndex", "Array.prototype.filter"], "search-terms": ["adminUsers", "localStorage", "email validation", "user management", "upsert", "deleteUser", "getUserById", "listUsers"], "state": 2, "file_id": 44, "knowledge_revision": 248, "git_revision": "fc96e5f98ad94fdcea96258357d4f29d8004640e", "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/services/adminUsers.js", "pattern": "/^const STORAGE_KEY = 'admin_users_v1';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "deleteUser", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/services/adminUsers.js", "pattern": "/^export function deleteUser(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/services/adminUsers.js", "pattern": "/^      email: normalizedEmail,$/", "language": "JavaScript", "kind": "property", "scope": "upsertUser.newUser", "scopeKind": "class"}, {"_type": "tag", "name": "getUserById", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/services/adminUsers.js", "pattern": "/^export function getUserById(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/services/adminUsers.js", "pattern": "/^      id: `u-${Date.now()}`,$/", "language": "JavaScript", "kind": "property", "scope": "upsertUser.newUser", "scopeKind": "class"}, {"_type": "tag", "name": "listUsers", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/services/adminUsers.js", "pattern": "/^export function listUsers() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/services/adminUsers.js", "pattern": "/^      name: user.name?.trim() || '',$/", "language": "JavaScript", "kind": "property", "scope": "upsertUser.newUser", "scopeKind": "class"}, {"_type": "tag", "name": "newUser", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/services/adminUsers.js", "pattern": "/^    const newUser = {$/", "language": "JavaScript", "kind": "class", "scope": "upsertUser", "scopeKind": "class"}, {"_type": "tag", "name": "readAll", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/services/adminUsers.js", "pattern": "/^function readAll() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/services/adminUsers.js", "pattern": "/^      role: user.role === 'admin' ? 'admin' : 'user',$/", "language": "JavaScript", "kind": "property", "scope": "upsertUser.newUser", "scopeKind": "class"}, {"_type": "tag", "name": "seedIfEmpty", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/services/adminUsers.js", "pattern": "/^function seedIfEmpty() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/services/adminUsers.js", "pattern": "/^      status: user.status === 'disabled' ? 'disabled' : 'active',$/", "language": "JavaScript", "kind": "property", "scope": "upsertUser.newUser", "scopeKind": "class"}, {"_type": "tag", "name": "upsertUser", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/services/adminUsers.js", "pattern": "/^export function upsertUser(user) {$/", "language": "JavaScript", "kind": "function", "signature": "(user)"}, {"_type": "tag", "name": "writeAll", "path": "/home/kavia/workspace/code-generation/edutrack-learning-platform-282005-282014/frontend_lms/src/services/adminUsers.js", "pattern": "/^function writeAll(users) {$/", "language": "JavaScript", "kind": "function", "signature": "(users)"}], "hash": "b124387035c67f299e969747dab6087e", "format-version": 4, "code-base-name": "frontend_lms", "filename": "frontend_lms/src/services/adminUsers.js", "fields": [{"name": "email: normalizedEmail,", "scope": "upsertUser.newUser", "scopeKind": "class", "description": "unavailable"}, {"name": "id: `u-${Date.now()}`,", "scope": "upsertUser.newUser", "scopeKind": "class", "description": "unavailable"}, {"name": "name: user.name?.trim() || '',", "scope": "upsertUser.newUser", "scopeKind": "class", "description": "unavailable"}, {"name": "role: user.role === 'admin' ? 'admin' : 'user',", "scope": "upsertUser.newUser", "scopeKind": "class", "description": "unavailable"}, {"name": "status: user.status === 'disabled' ? 'disabled' : 'active',", "scope": "upsertUser.newUser", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"248": "fc96e5f98ad94fdcea96258357d4f29d8004640e"}]}